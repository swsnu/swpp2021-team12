{"ast":null,"code":"import { put } from 'redux-saga/effects';\nimport axios from 'axios';\nimport { startLoading, finishLoading } from '../../store/actions/loading';\nimport * as actionTypes from '../../store/actions/actionTypes';\nexport default function createRequestSaga(type, request) {\n  const SUCCESS = `${type}_SUCCESS`;\n  const FAILURE = `${type}_FAILURE`; // eslint-disable-next-line func-names\n\n  return function* (action) {\n    let err = null;\n    let response = null;\n    yield put(startLoading(type));\n\n    switch (type) {\n      case actionTypes.SIGNIN:\n        yield axios.post(request, {\n          email: action.payload.email,\n          password: action.payload.password\n        }).then(res => {\n          response = res.data; // eslint-disable-next-line no-console\n\n          console.log(response);\n        }).catch(error => {\n          err = error;\n        });\n\n        if (!err) {\n          yield put({\n            type: SUCCESS,\n            payload: response\n          });\n        } else {\n          yield put({\n            type: FAILURE,\n            payload: {\n              error: err\n            }\n          });\n        }\n\n        break;\n\n      case actionTypes.SIGNUP:\n        yield axios.post(request, {\n          email: action.payload.email,\n          name: action.payload.name,\n          password: action.payload.password\n        }).then(res => {\n          response = res;\n        }).catch(error => {\n          err = error;\n        });\n\n        if (!err) {\n          yield put({\n            type: SUCCESS,\n            payload: response\n          });\n        } else {\n          yield put({\n            type: FAILURE,\n            payload: err\n          });\n        }\n\n        break;\n\n      case actionTypes.SIGNOUT:\n        yield axios.get(request).catch(error => {\n          err = error;\n        });\n\n        if (!err) {\n          yield put({\n            type: SUCCESS\n          });\n        } else {\n          yield put({\n            type: FAILURE,\n            payload: err\n          });\n        }\n\n        break;\n\n      default:\n        break;\n    }\n\n    yield put(finishLoading(type));\n  };\n}","map":{"version":3,"sources":["/home/chaseungbin/swpp2021-team12/frontend/src/components/auth/createRequestSaga.js"],"names":["put","axios","startLoading","finishLoading","actionTypes","createRequestSaga","type","request","SUCCESS","FAILURE","action","err","response","SIGNIN","post","email","payload","password","then","res","data","console","log","catch","error","SIGNUP","name","SIGNOUT","get"],"mappings":"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","sourcesContent":["import { put } from 'redux-saga/effects';\nimport axios from 'axios';\nimport { startLoading, finishLoading } from '../../store/actions/loading';\nimport * as actionTypes from '../../store/actions/actionTypes';\n\nexport default function createRequestSaga(type, request) {\n  const SUCCESS = `${type}_SUCCESS`;\n  const FAILURE = `${type}_FAILURE`;\n\n  // eslint-disable-next-line func-names\n  return function* (action) {\n    let err = null;\n    let response = null;\n    yield put(startLoading(type));\n\n    switch (type) {\n      case actionTypes.SIGNIN:\n        yield axios\n          .post(request, {\n            email: action.payload.email,\n            password: action.payload.password,\n          })\n          .then((res) => {\n            response = res.data;\n            // eslint-disable-next-line no-console\n            console.log(response);\n          })\n          .catch((error) => {\n            err = error;\n          });\n        if (!err) {\n          yield put({\n            type: SUCCESS,\n            payload: response,\n          });\n        } else {\n          yield put({\n            type: FAILURE,\n            payload: {\n              error: err,\n            },\n          });\n        }\n        break;\n\n      case actionTypes.SIGNUP:\n        yield axios\n          .post(request, {\n            email: action.payload.email,\n            name: action.payload.name,\n            password: action.payload.password,\n          })\n          .then((res) => {\n            response = res;\n          })\n          .catch((error) => {\n            err = error;\n          });\n        if (!err) {\n          yield put({\n            type: SUCCESS,\n            payload: response,\n          });\n        } else {\n          yield put({\n            type: FAILURE,\n            payload: err,\n          });\n        }\n        break;\n\n      case actionTypes.SIGNOUT:\n        yield axios.get(request).catch((error) => {\n          err = error;\n        });\n        if (!err) {\n          yield put({ type: SUCCESS });\n        } else {\n          yield put({ type: FAILURE, payload: err });\n        }\n        break;\n\n      default:\n        break;\n    }\n\n    yield put(finishLoading(type));\n  };\n}\n"]},"metadata":{},"sourceType":"module"}